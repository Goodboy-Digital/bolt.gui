import {Meta, Story, Preview, Props} from '@storybook/addon-docs/blocks';
import BoltGUI from '../BoltGUI';
import { ProviderWrapperComponent } from '../ProviderWrapperComponent';

<Meta title="Components/Bolt" component={BoltGUI} />

# Bolt

This is `Bolt GUI`

```jsx
import store from '../redux/store';
import BoltGUI from 'my-components';

{
  // TODO: this is broken, figure out why

  store.dispatch(addWindow({
    id: 'window1',
    expanded: true,
    position: { x: '40px', y: '40px' },
    sidebarSize: { height: '250px', width: '50px' },
    panelSize: { height: '250px', width: '250px' },
    showSidebar: true,
    sidebarShowLogo: false,
    activePanelIndex: 0,
    panelIDs: [],
}));

store.dispatch(addWindow({
    id: 'window2',
    expanded: true,
    position: { x: '400px', y: '40px' },
    sidebarSize: { height: '250px', width: '50px' },
    panelSize: { height: '250px', width: '250px' },
    showSidebar: true,
    sidebarShowLogo: false,
    activePanelIndex: 0,
    panelIDs: [],
}));

store.dispatch(addPanel({
    id: 'panel2',
    title: 'Test Panel',
    icon: {
        text: 'Te',
        active: true,
        size: { height: '40px', width: '40px' },
    },
    childIDs: [],
    isActive: true,
}, 'window2'));

store.dispatch(addPanel({
    id: 'panel3',
    title: 'Another Test Panel',
    icon: {
        text: 'p2',
        active: false,
        size: { height: '40px', width: '40px' },
    },
    childIDs: [],
    isActive: false,
}, 'window2'));

store.dispatch(addComponent({
    id: 'button1',
    component: ButtonInputComponent,
    inputData: {
        buttonText: 'click me',
        callOnClick: () =>
        {
            store.dispatch().updateComponent({
                id: 'button1',
                component: ButtonInputComponent,
                inputData: {
                    buttonText: 'ive been updated',
                    callOnClick: () =>
                    {
                        this.props.removeComponent('button1', 'panel1');
                    },
                },
            });
        },
    },
}, 'panel1'));

store.dispatch(addComponent({
    id: 'button2',
    component: ButtonInputComponent,
    inputData: {
        buttonText: 'remove panel',
        callOnClick: () =>
        {
            this.removePanel('panel1', 'window1');
        },
    },
}, 'panel1'));
}
```

<Preview withSource="open">
  <Story name="Bolt GUI">
      <ProviderWrapperComponent>
        <BoltGUI />
      </ProviderWrapperComponent>
  </Story>
</Preview>
